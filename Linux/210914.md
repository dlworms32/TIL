# 21-09-14 Linux 쉘 
## 1. Linux
* 초기 Unix 소스코드를 변갱해 만들었지만, 현재는 소스코드를 다 변경했다.  
* Shell 명령어 등 사용자가 다루는 부분은 Unix와 비슷하다.
---
## 2. Linux를 배우는 이유
* 임베디드 제품은 OS가 들어갈 수도 있고 안들어갈 수 도 있다.(OS 또는 F/W로 구현)
* LCD, USB, Ethernet 기능이 들어갈 경우 OS 탑재를 고민해봐야 한다.(구현이 굉장이 어려움)
* Linux를 탑재한 제품은 소비자 가격대가 높다.(~~연봉을 많이 받을 확률이 높다~~)
* __Linux를 윈도우처럼 편안하게 다루는 것이 목표!__
* __vi / gcc / make / shell 의 숙달__  
* __임베디드 개발에 필요한 유틸리티 학습__  
---    
## 3. Linux는 OS가 아닌 커널이다
* OS = Kernel(Linux) + App + Shell
* [Linux Github](https://github.com/torvalds/linux)
* Linux에 App, Shell을 추가해서 만든 OS를 Linux 배포판이라 한다.
* 유명한 배포판은 Android와 Ubuntu가 있다
* Ubuntu
  * 다양한 Linux 배포판 중 하나로, 인기가 높음
  * 영국 캐노니컬에서 유지보수 중
  * __무료__
---  
## 4. Linux 배경 지식
* 2020년 기준 Unix + Linux가 서버의 약 70%를 차지 (Windows도 많이 씀 리소스 모니터링이 편함)  
* iOS는 Unix, Android는 Linux 계열이며, Android는 Moblie OS 시장의 75% 정도를 차지한다.
* 슈퍼 컴퓨터의 99%는 Linux를 사용한다.  
* 임베디드 회사에 Linux를 쓰는 이유  
  * 래퍼런스가 많다.  
  * 개발자를 구하기 쉽다  
  * 무료이면서 안정성이 검증돼있다.  
* 임베디드 회사에 Linux를 쓰지 않는 이유
  * 간단한 가전제품(히터, 세탁기 등)을 만드는 데는 Linux가 필요하지 않다.  
  * 리눅스를 동작시키기 위해서는 최소한의 H/W 사양이 필요하다. => 가격이 오른다
---  
## 5. Linux의 패키지 관리 도구
* 프로그램 설치, 다운로드, 실행, 제거를 해준다.
* 바이너리 패키지 - 그대로 실행하면 사용할 수 있다.
* 소스코드 패키지 - 빌드 후 사용해야 한다.
* APT(Advanced Packaging Tool)
  * 바이너리 형태와 소스코드 형태 모두 배포한다.
  * 설치에 필요한 의존 패키지들을 자동으로 설치해준다.
* 우분투 소프트웨어(Gnome Software)
  * 바이너리 형태로 배포한다.  
  * 우분투 소프트웨어로 App을 설치하면, APT에서는 관리할 수 없다. => __GUI App을 제외한 나머지 App들은 APT를 이용해 설치__
---  
  
## 6. Linux의 파일 구조
* Windows는 C:\와 같은 드라이브에서 파일 관리가 시작된다.
* Linux는 파일시스템 "/"(Root)에서 시작된다.
* 파일 시스템은 ntfs, ext4, fat32 등이 있다.
* 리눅스에서의 바로가기를 '심볼릭 링크'라고 한다.
---
## 7. 스냅샷
* VM(가상머신)은 망가자기 쉽다.
* 현재 VM의 상태를 백업한다. Virtual Box의 스냅샷 기능을 이용한다.  
---  
## 8. GUI와 CLI
* GUI: 그래픽 기반으로 OS 명령을 보내고, 결과를 확인한다.
* CLI: 문자 기반으로 명령을 보내고, 결과를 확인한다.
* CLI의 장점
  * 프로그램 세팅 / 설치 / 실행이 편하다.
  * 인터페이스의 일관성이 높다.
  * 버전 업그레이드를 해도, CLI 명령어는 거의 비슷하다.
  * 처음 배우는 것이 어렵지만, 익혀두면 두고두고 사용할 수 있다.
* 리눅스 개발자와 CLI
  * UART, SSH등 터미널 접속시 GUI 지원이 안되는 경우가 많다.
  * __반복 훈련을 통해 CLI 사용에 능숙해지자__
---
## 9. CLI 명령어
* 디렉토리 생성 : `mkdir [디렉토리명]`
  * `mkdir -p ./dir1/dir2/...` 현재 디렉토리 내에 여러 하위 디렉토리 생성
* 삭제 :  `rm [파일]`
  * `rm -r ./dir1` 디렉토리와 디렉토리 내부 파일 전부 삭제
* 파일이동, 이름 변경 : `mv [파일] [옮길 곳]` or `mv [파일] [파일 이름]`  
* 파일 복사 : `cp [파일] [경로]`
  * `cp -r dir1 dir2` 디렉토리 복사
---

## 10. APT 패키지 관리 도구
* apt와 apt-get
  * 우분투 14 이후로 apt 사용을 권장, 라즈베리 파이는 apt-get 사용을 권장한다.
  * apt-cache : 패키지 검색, 상세 정보를 볼 수 있음
  * apt-get : 패키지 설치, 삭제
  * apt : apt-get과 apt-cache를 합친 명령어
* 패키지 설치 : `sudo apt install [app 이름]` (APT로 설치한 패키지는 다른 관리도구로 관리 불가)
* 전체 패키지 정보 확인 : `apt list`
* 설치된 패키지 확인 : `apt list --installed`
* 패키지 삭제 : `sudo apt purge [app 이름]`  
---
## 11. Text Editor
* vi : 강력한 기능을 가진 에디터
* vim(vi improved) : vi와 호환되는 에디터. 리눅스 배포판에 기본적으로 탑재된다.
  * 설치 : `sudo apt install vim`
* 임베디드 리눅스에서는 vi만 설치되어있는 경우도 있다.
* __메모장처럼 다룰 수 있도록 연습하자__
---
## 12. vi 사용하기
* 실행 : `vi [파일]`
* command 모드 : 초기 상태로 단축키를 이용해 명령을 내릴 수 있다. `:` 로 명령어 입력 가능
* 자주 사용하는 command
  * `dd` : 한줄 삭제
  * `gg` : 맨 윗줄로 이동
  * `shift + g` : 맨 아랫줄로 이동
  * `yy` : 한 줄 복사
  * `u` : 실행 취소
  * `ctrl + r` : 다시 실행
  * `/찾을 단어` : 찾기 명령어 입력 후 `n` : 다음 검색 `shift + n` : 이전 검색
* edit 모드 : command 모드에서 i를 입력해 진입 가능하다.
* visual 모드 : 블록을 잡는 코드. command 모드에서 v를 눌러 진입
  * 영역 선택 후, y를 누르면 선택한 영역이 복사된다.
  * p를 누르면 현재 커서 뒤쪽으로 복사된다.